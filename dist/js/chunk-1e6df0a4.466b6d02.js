(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e6df0a4"],{"12e4":function(e,t,r){"use strict";var s=r("2935"),a=r.n(s);a.a},2935:function(e,t,r){},"49ef":function(e,t,r){"use strict";var s=r("dcf6"),a=r.n(s);a.a},"504c":function(e,t,r){var s=r("0d58"),a=r("6821"),n=r("52a7").f;e.exports=function(e){return function(t){var r,o=a(t),l=s(o),i=l.length,u=0,c=[];while(i>u)n.call(o,r=l[u++])&&c.push(e?[r,o[r]]:o[r]);return c}}},8615:function(e,t,r){var s=r("5ca1"),a=r("504c")(!1);s(s.S,"Object",{values:function(e){return a(e)}})},dcf6:function(e,t,r){},ed81:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"users"},[r("b-card",[r("template",{slot:"header"},[r("i",{staticClass:"cui-user"}),e._v("Account #"+e._s(e.account_id)+" Users\n    ")]),r("b-btn",{staticClass:"mb-3",attrs:{variant:"primary"},on:{click:e.addUser}},[r("i",{staticClass:"fa fa-plus fa-lg mr-1"}),e._v("\n      Add user\n    ")]),r("b-btn",{staticClass:"pull-right",attrs:{size:"sm"},on:{click:e.fetch}},[r("i",{staticClass:"fa fa-refresh fa-lg",class:{rotate:e.busy}})]),r("b-form",{staticClass:"mb-4",attrs:{inline:""}},[r("div",{staticClass:"mr-2"},[e._v("Filter:")]),r("b-form-input",{staticClass:"mr-2",attrs:{type:"text",placeholder:"Username"},model:{value:e.filter.username,callback:function(t){e.$set(e.filter,"username",t)},expression:"filter.username"}}),r("b-form-input",{staticClass:"mr-2",attrs:{type:"text",placeholder:"Name"},model:{value:e.filter.name,callback:function(t){e.$set(e.filter,"name",t)},expression:"filter.name"}}),r("b-form-input",{staticClass:"mr-2",attrs:{type:"text",placeholder:"Language"},model:{value:e.filter.language,callback:function(t){e.$set(e.filter,"language",t)},expression:"filter.language"}}),r("b-form-input",{staticClass:"mr-2",attrs:{type:"text",placeholder:"Created"},model:{value:e.filter.created,callback:function(t){e.$set(e.filter,"created",t)},expression:"filter.created"}}),r("b-btn",{on:{click:function(t){e.filter={}}}},[e._v("reset")])],1),r("b-table",{attrs:{items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,"sort-by":e.sortBy,striped:!0,filter:e.filterHandler,hover:""},on:{"update:sortBy":function(t){e.sortBy=t}},scopedSlots:e._u([{key:"enabled",fn:function(t){return[e._v("\n        "+e._s(t.value?"yes":"no")+"\n      ")]}},{key:"actions",fn:function(t){return[r("div",{staticStyle:{"white-space":"nowrap"}},[r("b-btn",{attrs:{variant:"primary",size:"sm"},on:{click:function(r){r.stopPropagation(),e.editUser(t.item)}}},[e._v("Edit")]),r("b-btn",{staticClass:"ml-2",attrs:{variant:"danger",size:"sm"},on:{click:function(r){r.stopPropagation(),e.removeUser(t.item)}}},[e._v("Delete")])],1)]}}])}),r("nav",[r("b-pagination",{attrs:{"total-rows":e.totalRows,"per-page":e.perPage,"prev-text":"Prev","next-text":"Next","hide-goto-end-buttons":""},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],2),e.account_id?r("div",[r("edit-user",{attrs:{user:e.editUserData,"account-id":e.account_id},on:{closed:e.fetch}})],1):e._e()],1)},a=[],n=(r("7f7f"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-modal",{ref:"modal",attrs:{id:"editUser",title:e.title},on:{shown:e.shown,ok:e.ok,hidden:e.hidden}},[r("b-form",{on:{submit:e.submit,reset:e.reset}},[r("b-form-group",{attrs:{label:"Username:"}},[r("b-form-input",{attrs:{type:"text",state:e.errors&&!e.errors["username"]},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}}),e.errors?r("b-form-invalid-feedback",[e._v("\n        "+e._s(e.errors["username"])+"\n      ")]):e._e()],1),r("b-form-group",{attrs:{label:"Password:"}},[r("b-form-input",{attrs:{type:"password",state:e.errors&&!e.errors["password"]},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),e.errors?r("b-form-invalid-feedback",[e._v("\n        "+e._s(e.errors["password"])+"\n      ")]):e._e()],1),r("b-form-group",{attrs:{label:"Name:"}},[r("b-form-input",{attrs:{type:"text",state:e.errors&&!e.errors["name"]},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),e.errors?r("b-form-invalid-feedback",[e._v("\n        "+e._s(e.errors["name"])+"\n      ")]):e._e()],1),r("b-form-group",{attrs:{label:"Locale:"}},[r("b-form-select",{staticClass:"mb-3",attrs:{plain:!0,size:"lg",options:e.localeOptions,state:e.errors&&!e.errors["locale"]},model:{value:e.form.locale,callback:function(t){e.$set(e.form,"locale",t)},expression:"form.locale"}}),e.errors?r("b-form-invalid-feedback",[e._v("\n        "+e._s(e.errors["locale"])+"\n      ")]):e._e()],1),r("b-form-group",{attrs:{label:"Enabled:"}},[r("b-form-checkbox",{attrs:{value:"true","unchecked-value":"false"},model:{value:e.form.enabled,callback:function(t){e.$set(e.form,"enabled",t)},expression:"form.enabled"}})],1),r("b-form-group",{attrs:{label:"Role:"}},[r("b-form-select",{staticClass:"mb-3",attrs:{plain:!0,size:"lg",options:e.roleOptions},model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}})],1),e.message?r("span",{staticClass:"text-danger"},[e._v("\n      "+e._s(e.message)+"\n    ")]):e._e(),e.errors?r("span",{staticClass:"text-danger"},e._l(e.errors,function(t){return r("li",[e._v("\n        "+e._s(t)+"\n      ")])})):e._e()],1)],1)}),o=[],l=(r("8615"),r("456d"),r("ac6a"),r("f751"),r("a026"),r("bc3a"),r("fa33")),i={props:{accountId:{required:!0},user:{type:Object,default:null}},components:{Datepicker:l["a"]},data:function(){return{form:{username:null,password:null,name:null,locale:2,enabled:!0,role:"ROLE_USER",accountId:null},message:null,errors:null,localeOptions:[{value:2,text:"English"}],roleOptions:[{value:"ROLE_SUPER",text:"SUPER"},{value:"ROLE_ADMIN",text:"ADMIN"},{value:"ROLE_USER",text:"USER"}]}},computed:{title:function(){return this.user?"Edit user":"Add user"}},methods:{shown:function(){this.user&&Object.assign(this.form,this.user),this.form.accountId=this.accountId},ok:function(e){e.preventDefault(),this.submit()},hidden:function(){this.reset(),this.$emit("closed")},submit:function(){var e=this;this.errors=null,this.sendForm().then(function(){e.$refs.modal.hide()},function(t){e.errors=null,t.response.data.errors&&(e.errors={},t.response.data.errors.forEach(function(t){e.errors[Object.keys(t)[0]]=Object.values(t)[0]})),e.message=t.response.data.message})},sendForm:function(){return this.user?this.$store.dispatch("user/edit",this.form):this.$store.dispatch("user/add",this.form)},reset:function(){Object.assign(this.$data,this.$options.data())}}},u=i,c=(r("12e4"),r("2877")),f=Object(c["a"])(u,n,o,!1,null,null,null);f.options.__file="EditUser.vue";var d=f.exports,m={name:"Account",components:{EditUser:d},data:function(){return{account_id:null,fields:[{key:"id",label:"ID",sortable:!0},{key:"username",label:"Username",sortable:!0},{key:"name",label:"Name",sortable:!0},{key:"language",label:"Language",sortable:!0},{key:"isEnabled",label:"Enabled",sortable:!0},{key:"role",label:"Role",sortable:!0},{key:"createdAt",label:"Created",sortable:!0},{key:"updatedAt",label:"Updated",sortable:!0},{key:"loggedAt",label:"Logged",sortable:!0},{key:"actions",label:"Actions"}],items:[],perPage:50,currentPage:1,sortBy:"id",editUserData:null,busy:!1,filter:{name:null}}},created:function(){this.account_id=this.$route.params.account_id,this.fetch()},computed:{totalRows:function(){return this.getRowCount()}},methods:{fetch:function(){var e=this;this.busy=!0,this.$store.dispatch("user/fetch",{account_id:this.account_id}).then(function(t){e.items=t,e.busy=!1},function(t){e.$notify(t.response.data.message,"error"),e.busy=!1})},getRowCount:function(){return this.items.length},addUser:function(){this.editUserData=null,this.$root.$emit("bv::show::modal","editUser")},editUser:function(e){this.editUserData=e,this.$root.$emit("bv::show::modal","editUser")},removeUser:function(e){var t=this;confirm('Do you really want to remove user "'+e.username+'"?')&&this.$store.dispatch("user/remove",{id:e.id}).then(function(){return t.fetch()})},filterHandler:function(e){return this.filter.username&&e.username.substr(0,this.filter.username.length).toLowerCase()!=this.filter.username.toLowerCase()?null:this.filter.name&&e.name.substr(0,this.filter.name.length).toLowerCase()!=this.filter.name.toLowerCase()?null:this.filter.language&&e.language.substr(0,this.filter.language.length).toLowerCase()!=this.filter.language.toLowerCase()?null:this.filter.created&&e.createdAt.substr(0,this.filter.created.length).toLowerCase()!=this.filter.created.toLowerCase()?null:e}}},b=m,p=(r("49ef"),Object(c["a"])(b,s,a,!1,null,null,null));p.options.__file="Users.vue";t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-1e6df0a4.466b6d02.js.map