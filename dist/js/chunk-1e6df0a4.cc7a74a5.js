(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e6df0a4"],{"12e4":function(e,t,s){"use strict";var r=s("2935"),a=s.n(r);a.a},2935:function(e,t,s){},"49ef":function(e,t,s){"use strict";var r=s("dcf6"),a=s.n(r);a.a},"504c":function(e,t,s){var r=s("0d58"),a=s("6821"),n=s("52a7").f;e.exports=function(e){return function(t){var s,o=a(t),l=r(o),i=l.length,c=0,u=[];while(i>c)n.call(o,s=l[c++])&&u.push(e?[s,o[s]]:o[s]);return u}}},8615:function(e,t,s){var r=s("5ca1"),a=s("504c")(!1);r(r.S,"Object",{values:function(e){return a(e)}})},dcf6:function(e,t,s){},ed81:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"users"},[s("b-card",[s("template",{slot:"header"},[s("i",{staticClass:"cui-user"}),e._v(e._s(e.$t("account"))+" #"+e._s(e.account_id)+" "+e._s(e.$t("users"))+"\n    ")]),s("b-btn",{staticClass:"mb-3",attrs:{variant:"primary"},on:{click:e.addUser}},[s("i",{staticClass:"fa fa-plus fa-lg mr-1"}),e._v("\n      "+e._s(e.$t("add_user"))+"\n    ")]),s("b-btn",{staticClass:"pull-right",attrs:{size:"sm"},on:{click:e.fetch}},[s("i",{staticClass:"fa fa-refresh fa-lg",class:{rotate:e.busy}})]),s("b-form",{staticClass:"mb-4",attrs:{inline:""}},[s("div",{staticClass:"mr-2 mb-2"},[e._v(e._s(e.$t("filter"))+":")]),s("b-form-input",{staticClass:"mr-2 mb-2",attrs:{type:"text",placeholder:e.$t("username")},model:{value:e.filter.username,callback:function(t){e.$set(e.filter,"username",t)},expression:"filter.username"}}),s("b-form-input",{staticClass:"mr-2 mb-2",attrs:{type:"text",placeholder:e.$t("name")},model:{value:e.filter.name,callback:function(t){e.$set(e.filter,"name",t)},expression:"filter.name"}}),s("b-form-input",{staticClass:"mr-2 mb-2",attrs:{type:"text",placeholder:e.$t("language")},model:{value:e.filter.language,callback:function(t){e.$set(e.filter,"language",t)},expression:"filter.language"}}),s("b-form-input",{staticClass:"mr-2 mb-2",attrs:{type:"text",placeholder:e.$t("created")},model:{value:e.filter.created,callback:function(t){e.$set(e.filter,"created",t)},expression:"filter.created"}}),s("b-btn",{staticClass:"mb-2",on:{click:function(t){e.filter={}}}},[e._v(e._s(e.$t("reset")))])],1),s("b-table",{attrs:{items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,"sort-by":e.sortBy,striped:!0,filter:e.filterHandler,responsive:"true",fixed:"true",hover:""},on:{"update:sortBy":function(t){e.sortBy=t}},scopedSlots:e._u([{key:"enabled",fn:function(t){return[e._v("\n        "+e._s(t.value?e.$t("yes"):e.$t("no"))+"\n      ")]}},{key:"actions",fn:function(t){return[s("div",{staticStyle:{"white-space":"nowrap"}},[s("b-btn",{attrs:{variant:"primary",size:"sm"},on:{click:function(s){s.stopPropagation(),e.editUser(t.item)}}},[s("i",{staticClass:"fa fa-pencil fa-lg"})]),s("b-btn",{staticClass:"ml-2",attrs:{variant:"danger",size:"sm"},on:{click:function(s){s.stopPropagation(),e.removeUser(t.item)}}},[s("i",{staticClass:"fa fa-remove fa-lg"})])],1)]}}])}),s("nav",[s("b-pagination",{attrs:{"total-rows":e.totalRows,"per-page":e.perPage,"prev-text":e.$t("prev_short"),"next-text":e.$t("next_short"),"hide-goto-end-buttons":""},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],2),e.account_id?s("div",[s("edit-user",{attrs:{user:e.editUserData,"account-id":e.account_id},on:{closed:e.fetch}})],1):e._e()],1)},a=[],n=(s("7f7f"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"modal",attrs:{id:"editUser",title:e.title,"ok-title":e.$t("save"),"cancel-title":e.$t("cancel")},on:{shown:e.shown,ok:e.ok,hidden:e.hidden}},[s("b-form",{on:{submit:e.submit,reset:e.reset}},[s("b-form-group",{attrs:{label:e.$t("username")+":"}},[s("b-form-input",{attrs:{type:"text",state:e.errors&&!e.errors["username"]},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}}),e.errors?s("b-form-invalid-feedback",[e._v("\n        "+e._s(e.errors["username"])+"\n      ")]):e._e()],1),s("b-form-group",{attrs:{label:e.$t("password")+":"}},[s("b-form-input",{attrs:{type:"password",state:e.errors&&!e.errors["password"]},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),e.errors?s("b-form-invalid-feedback",[e._v("\n        "+e._s(e.errors["password"])+"\n      ")]):e._e()],1),s("b-form-group",{attrs:{label:e.$t("name")+":"}},[s("b-form-input",{attrs:{type:"text",state:e.errors&&!e.errors["name"]},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),e.errors?s("b-form-invalid-feedback",[e._v("\n        "+e._s(e.errors["name"])+"\n      ")]):e._e()],1),s("b-form-group",{attrs:{label:e.$t("locale")+":"}},[s("b-form-select",{staticClass:"mb-3",attrs:{plain:!0,size:"lg",options:e.localeOptions,state:e.errors&&!e.errors["locale"]},model:{value:e.form.locale,callback:function(t){e.$set(e.form,"locale",t)},expression:"form.locale"}}),e.errors?s("b-form-invalid-feedback",[e._v("\n        "+e._s(e.errors["locale"])+"\n      ")]):e._e()],1),s("b-form-group",{attrs:{label:e.$t("enabled")+":"}},[s("b-form-checkbox",{attrs:{value:"true","unchecked-value":"false"},model:{value:e.form.enabled,callback:function(t){e.$set(e.form,"enabled",t)},expression:"form.enabled"}})],1),s("b-form-group",{attrs:{label:e.$t("role")+":"}},[s("b-form-select",{staticClass:"mb-3",attrs:{plain:!0,size:"lg",options:e.roleOptions},model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}})],1),e.message?s("span",{staticClass:"text-danger"},[e._v("\n      "+e._s(e.message)+"\n    ")]):e._e(),e.errors?s("span",{staticClass:"text-danger"},e._l(e.errors,function(t){return s("li",[e._v("\n        "+e._s(t)+"\n      ")])})):e._e()],1)],1)}),o=[],l=(s("8615"),s("456d"),s("ac6a"),s("f751"),s("a026"),s("bc3a"),s("fa33")),i={props:{accountId:{required:!0},user:{type:Object,default:null}},components:{Datepicker:l["a"]},data:function(){return{form:{username:null,password:null,name:null,locale:2,enabled:!0,role:"ROLE_USER",accountId:null},message:null,errors:null,localeOptions:[{value:2,text:"English"}],roleOptions:[{value:"ROLE_SUPER",text:"SUPER"},{value:"ROLE_ADMIN",text:"ADMIN"},{value:"ROLE_USER",text:"USER"}]}},computed:{title:function(){return this.user?this.$t("edit_user"):this.$t("add_user")}},methods:{shown:function(){this.user&&Object.assign(this.form,this.user),this.form.accountId=this.accountId},ok:function(e){e.preventDefault(),this.submit()},hidden:function(){this.reset(),this.$emit("closed")},submit:function(){var e=this;this.errors=null,this.sendForm().then(function(){e.$refs.modal.hide()},function(t){e.errors=null,t.response.data.errors&&(e.errors={},t.response.data.errors.forEach(function(t){e.errors[Object.keys(t)[0]]=Object.values(t)[0]})),e.message=t.response.data.message})},sendForm:function(){return this.user?this.$store.dispatch("user/edit",this.form):this.$store.dispatch("user/add",this.form)},reset:function(){Object.assign(this.$data,this.$options.data())}}},c=i,u=(s("12e4"),s("2877")),f=Object(u["a"])(c,n,o,!1,null,null,null);f.options.__file="EditUser.vue";var d=f.exports,m={name:"Account",components:{EditUser:d},data:function(){return{account_id:null,fields:[{key:"id",label:"ID",sortable:!0},{key:"username",label:this.$t("username"),sortable:!0},{key:"name",label:this.$t("name"),sortable:!0},{key:"language",label:this.$t("language"),sortable:!0},{key:"enabled",label:this.$t("enabled"),sortable:!0},{key:"role",label:this.$t("role"),sortable:!0},{key:"createdAt",label:this.$t("created"),sortable:!0},{key:"updatedAt",label:this.$t("updated"),sortable:!0},{key:"loggedAt",label:this.$t("logged"),sortable:!0},{key:"actions",label:this.$t("actions"),thStyle:"width: 140px;"}],items:[],perPage:50,currentPage:1,sortBy:"id",editUserData:null,busy:!1,filter:{name:null}}},created:function(){this.account_id=this.$route.params.account_id,this.fetch()},computed:{totalRows:function(){return this.getRowCount()}},methods:{fetch:function(){var e=this;this.busy=!0,this.$store.dispatch("user/fetch",{account_id:this.account_id}).then(function(t){e.items=t,e.busy=!1},function(t){e.$notify(t.response.data.message,"error"),e.busy=!1})},getRowCount:function(){return this.items.length},addUser:function(){this.editUserData=null,this.$root.$emit("bv::show::modal","editUser")},editUser:function(e){this.editUserData=e,this.$root.$emit("bv::show::modal","editUser")},removeUser:function(e){var t=this;confirm(this.$t("confirms.remove_user",{username:e.username}))&&this.$store.dispatch("user/remove",{id:e.id}).then(function(){return t.fetch()})},filterHandler:function(e){return this.filter.username&&e.username.substr(0,this.filter.username.length).toLowerCase()!=this.filter.username.toLowerCase()?null:this.filter.name&&e.name.substr(0,this.filter.name.length).toLowerCase()!=this.filter.name.toLowerCase()?null:this.filter.language&&e.language.substr(0,this.filter.language.length).toLowerCase()!=this.filter.language.toLowerCase()?null:this.filter.created&&e.createdAt.substr(0,this.filter.created.length).toLowerCase()!=this.filter.created.toLowerCase()?null:e}}},b=m,p=(s("49ef"),Object(u["a"])(b,r,a,!1,null,null,null));p.options.__file="Users.vue";t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-1e6df0a4.cc7a74a5.js.map