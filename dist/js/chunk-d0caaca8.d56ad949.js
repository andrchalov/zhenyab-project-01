(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d0caaca8"],{"12e4":function(e,t,a){"use strict";var s=a("2935"),r=a.n(s);r.a},2935:function(e,t,a){},"49ef":function(e,t,a){"use strict";var s=a("dcf6"),r=a.n(s);r.a},dcf6:function(e,t,a){},ed81:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"users"},[a("b-card",[a("template",{slot:"header"},[a("i",{staticClass:"cui-user"}),e._v("Account #"+e._s(e.account_id)+" Users\n    ")]),a("b-btn",{staticClass:"mb-3",attrs:{variant:"primary"},on:{click:e.addUser}},[a("i",{staticClass:"fa fa-plus fa-lg mr-1"}),e._v("\n      Add user\n    ")]),a("b-table",{attrs:{items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,"sort-by":e.sortBy,hover:""},on:{"update:sortBy":function(t){e.sortBy=t}}})],2),e.account_id?a("div",[a("edit-user",{attrs:{user:e.editUserData,"account-id":e.account_id}})],1):e._e()],1)},r=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-modal",{ref:"modal",attrs:{id:"editUser",title:e.title},on:{shown:e.shown,ok:e.ok,hidden:e.hidden}},[a("b-form",{on:{submit:e.submit,reset:e.reset}},[a("b-form-group",{attrs:{label:"Username:"}},[a("b-form-input",{attrs:{type:"text"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("b-form-group",{attrs:{label:"Password:"}},[a("b-form-input",{attrs:{type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("b-form-group",{attrs:{label:"Name:"}},[a("b-form-input",{attrs:{type:"text"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("b-form-group",{attrs:{label:"Locale:"}},[a("b-form-select",{staticClass:"mb-3",attrs:{options:e.localeOptions},model:{value:e.form.locale,callback:function(t){e.$set(e.form,"locale",t)},expression:"form.locale"}})],1),a("b-form-group",{attrs:{label:"Expired at:"}},[a("datepicker",{staticStyle:{width:"200px"},attrs:{format:"yyyy-MM-dd"},model:{value:e.expiredAtDate,callback:function(t){e.expiredAtDate=t},expression:"expiredAtDate"}})],1),a("b-form-group",{attrs:{label:"Devices amount:"}},[a("b-form-input",{staticStyle:{width:"200px"},attrs:{type:"number"},model:{value:e.form.amount,callback:function(t){e.$set(e.form,"amount",t)},expression:"form.amount"}})],1),a("b-form-group",{attrs:{label:"Blocked:"}},[a("b-form-checkbox",{attrs:{value:"false","unchecked-value":"true"},model:{value:e.form.isEnabled,callback:function(t){e.$set(e.form,"isEnabled",t)},expression:"form.isEnabled"}})],1),e.error?a("span",{staticClass:"text-danger"},[e._v(e._s(e.error))]):e._e()],1)],1)},n=[],i=(a("f751"),a("a026")),l=(a("bc3a"),a("fa33")),u={props:{accountId:{type:String,required:!0},user:{type:Object,default:null}},components:{Datepicker:l["a"]},data:function(){return{form:{name:null,expiredAt:null,amount:0,isEnabled:!0},expiredAtDate:null,error:null,localeOptions:[{value:"en",text:"English"},{value:"ru",text:"Russian"}]}},computed:{title:function(){return this.user?"Edit user":"Add user"}},created:function(){},methods:{shown:function(){this.account&&(Object.assign(this.form,this.account),this.expiredAtDate=this.account.expiredAt)},ok:function(e){e.preventDefault(),this.submit()},hidden:function(){this.reset()},submit:function(){var e=this;this.error=null,this.form.expiredAt=i["default"].moment(this.expiredAtDate).format("YYYY-MM-DD"),this.sendForm().then(function(){e.$store.dispatch("user/fetch"),e.$refs.modal.hide()},function(t){return e.error=t.response.data.message})},sendForm:function(){return this.account?this.$store.dispatch("user/edit",this.form):this.$store.dispatch("user/add",this.form)},reset:function(){Object.assign(this.$data,this.$options.data())}}},c=u,d=(a("12e4"),a("2877")),f=Object(d["a"])(c,o,n,!1,null,null,null);f.options.__file="EditUser.vue";var m=f.exports,p={name:"Account",components:{EditUser:m},data:function(){return{account_id:null,fields:[{key:"id",label:"ID",sortable:!0},{key:"username",label:"Username",sortable:!0},{key:"name",label:"Name",sortable:!0},{key:"language",label:"Language",sortable:!0},{key:"isEnabled",label:"Enabled",sortable:!0},{key:"role",label:"Role"},{key:"createdAt",label:"Created"},{key:"updatedAt",label:"Updated"},{key:"loggedAt",label:"Logged"}],items:[],perPage:50,currentPage:1,sortBy:"id",editUserData:null,busy:!1}},created:function(){this.account_id=this.$route.params.account_id,this.fetch()},computed:{totalRows:function(){return this.getRowCount()}},methods:{fetch:function(){var e=this;this.busy=!0,this.$store.dispatch("user/fetch",{account_id:this.account_id}).then(function(t){e.items=t},function(t){e.$notify(t.response.data.message,"error"),e.busy=!1})},addUser:function(){this.editUserData=null,this.$root.$emit("bv::show::modal","editUser")}}},b=p,h=(a("49ef"),Object(d["a"])(b,s,r,!1,null,null,null));h.options.__file="Users.vue";t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-d0caaca8.d56ad949.js.map